<?php
/**
 * Part of the Joomla Framework CVE Package
 *
 * @copyright  Copyright (C) 2021 Open Source Matters, Inc. All rights reserved.
 * @license    GNU General Public License version 2 or later; see LICENSE
 */

namespace Joomla\Cve;

/**
 * Class CveQuota - Details of the organisation's id_quota
 *
 * @since  __DEPLOY_VERSION__
 */
final class CveQuota // Immutable value object
{
    /**
     * @var integer
     */
    private $quota;

    /**
     * @var integer
     */
    private $reserved;

    /**
     * @var integer
     */
    private $available;

    /**
     * CveQuota constructor.
     *
     * @param   array  $quota  An array representing the Quota, usually the JSON decoded response from the CVE Service
     */
    public function __construct(array $quota)
    {
        $this->quota     = $quota['id_quota'];
        $this->reserved  = $quota['total_reserved'];
        $this->available = $quota['available'];
    }

    /**
     * Get the number of IDs the organisation is allowed to have in the RESERVED state at one time.
     *
     * @return  integer
     */
    public function quota(): int
    {
        return $this->quota;
    }

    /**
     * Get the total of IDs across all years that the organisation has in the RESERVED state.
     *
     * @return  integer
     */
    public function reserved(): int
    {
        return $this->reserved;
    }

    /**
     * Get the number of IDs that can be RESERVED by the organisation
     *
     * @return  integer
     */
    public function available(): int
    {
        return $this->available;
    }
}
